/*
* Configuration of module: XCP
*
* Created by:   parai
* Copyright:    (C)parai@foxmail.com  
*
* Configured for (MCU):    posix
*
* Module vendor:           ArcCore
* Generator version:       01.00
*
* Generated by easySAR Studio (https://github.com/parai/as)
*/
#if defined(USE_XCP) && !defined(USE_XCP_MINI)
/* ============================ [ INCLUDES  ] ====================================================== */
#include "Xcp.h"
#include "Xcp_Internal.h"
/* ============================ [ MACROS    ] ====================================================== */
#define XCP_EVENT_CHL_NUM 1
/* ============================ [ TYPES     ] ====================================================== */
/* ============================ [ DECLARES  ] ====================================================== */
/* ============================ [ DATAS     ] ====================================================== */
#if XCP_STATIC_DAQ_COUNT > 0
static Xcp_OdtEntryType xcpOdtEntry[6] = 
{
    { /* XcpEntry1 of XcpOdt1 of XcpDaq1 */
        .XcpOdtEntryExtension=XCP_MTA_EXTENSION_MEMORY,
        .XcpOdtEntryAddress=(void*)&xcpSimMTAMemory[0],
        .XcpOdtEntryLength=1,
    },
    { /* XcpEntry2 of XcpOdt1 of XcpDaq1 */
        .XcpOdtEntryExtension=XCP_MTA_EXTENSION_MEMORY,
        .XcpOdtEntryAddress=(void*)&xcpSimMTAMemory[1],
        .XcpOdtEntryLength=2,
    },
    { /* XcpEntry3 of XcpOdt1 of XcpDaq1 */
        .XcpOdtEntryExtension=XCP_MTA_EXTENSION_MEMORY,
        .XcpOdtEntryAddress=(void*)&xcpSimMTAMemory[3],
        .XcpOdtEntryLength=3,
    },
    { /* XcpEntry1 of XcpOdt2 of XcpDaq1 */
        .XcpOdtEntryExtension=XCP_MTA_EXTENSION_MEMORY,
        .XcpOdtEntryAddress=(void*)&xcpSimMTAMemory[6],
        .XcpOdtEntryLength=1,
    },
    { /* XcpEntry2 of XcpOdt2 of XcpDaq1 */
        .XcpOdtEntryExtension=XCP_MTA_EXTENSION_MEMORY,
        .XcpOdtEntryAddress=(void*)&xcpSimMTAMemory[7],
        .XcpOdtEntryLength=2,
    },
    { /* XcpEntry3 of XcpOdt2 of XcpDaq1 */
        .XcpOdtEntryExtension=XCP_MTA_EXTENSION_MEMORY,
        .XcpOdtEntryAddress=(void*)&xcpSimMTAMemory[9],
        .XcpOdtEntryLength=3,
    },
};

static Xcp_OdtType xcpOdt[2] = 
{
    { /* XcpOdt1 of XcpDaq1*/
        .XcpMaxOdtEntries = 3,
        .XcpOdtEntry = &xcpOdtEntry[0],
        .XcpOdtEntriesValid = 3,
    },
    { /* XcpOdt2 of XcpDaq1*/
        .XcpMaxOdtEntries = 3,
        .XcpOdtEntry = &xcpOdtEntry[3],
        .XcpOdtEntriesValid = 3,
    },
};
static Xcp_DaqListParams xcpStaticDaqParams[1];
static const Xcp_DaqListType xcpDaqList[1] = 
{
    {/* XcpDaq1 */
        .XcpOdtCount = 2,
        .XcpMaxOdt = 2,
        .XcpOdt = &xcpOdt[0],
        .XcpParams=&xcpStaticDaqParams[0]
    },
};
#endif
#if(XCP_DAQ_CONFIG_TYPE == DAQ_DYNAMIC)
static Xcp_DaqListParams xcpDaqParamsDYN[XCP_DAQ_COUNT];
static Xcp_DaqListType xcpDaqListDYN[XCP_DAQ_COUNT];
static Xcp_OdtType xcpOdtDYN[XCP_DAQ_COUNT * XCP_ODT_COUNT];
static Xcp_OdtEntryType xcpOdtEntryDYN[XCP_DAQ_COUNT * XCP_ODT_COUNT * XCP_ODT_ENTRIES_COUNT];
#endif
#if XCP_EVENT_CHL_NUM>0
static const Xcp_DaqListType* XcpEventChannelTriggeredDaqListRef_1000ms[8] =
{
    &xcpDaqList[XCP_STATIC_DAQ_ID_XcpDaq1],
};
static Xcp_EventChannelType xcpEventChannel[1] = 
{
    {
        .XcpEventChannelName = "1000ms",
        .XcpEventChannelNumber=0,
        .XcpEventChannelMaxDaqList = 8,
        .XcpEventChannelTriggeredDaqListRef=XcpEventChannelTriggeredDaqListRef_1000ms,
        .XcpEventChannelDaqCount=1,
    },
};
#endif

Std_ReturnType __weak Xcp_UnlockFn(Xcp_ProtectType res, const uint8* seed,
            uint8 seed_len, const uint8* key, uint8 key_len)
{
    Std_ReturnType ercd = E_OK;
    if( (4==seed_len) && (4==key_len))
    {
        if( 0 == memcmp(seed,key,4))
        {
        }
        else
        {
            ercd = E_NOT_OK;
        }
    }
    else
    {
        ercd = E_NOT_OK;
    }

    return ercd;
}
uint8 __weak Xcp_SeedFn(Xcp_ProtectType res, uint8* seed)
{
    uint8 seed_r[4];    /* use stack local random value */
    memcpy(seed,seed_r,4);
    return 4;
}
Std_ReturnType __weak Xcp_UserFn(void* data, int len)
{
    return E_NOT_OK;
}
const Xcp_ConfigType XcpConfig =
{
#if XCP_EVENT_CHL_NUM>0
    .XcpEventChannel = xcpEventChannel,
#else
    .XcpEventChannel = NULL,
#endif
    .XcpMaxEventChannel = 1,
#if XCP_STATIC_DAQ_COUNT > 0
    .XcpDaqList = xcpDaqList,
#else
    .XcpDaqList = NULL,
#endif
    .XcpMinDaq = XCP_STATIC_DAQ_COUNT,
    .XcpProtect = (Xcp_ProtectType)0xFFFFFFFFUL,
#if(XCP_DAQ_CONFIG_TYPE == DAQ_DYNAMIC)
    .ptrDynamicDaqParams = xcpDaqParamsDYN,
    .ptrDynamicDaq = xcpDaqListDYN,
    .ptrDynamicOdt = xcpOdtDYN,
    .ptrDynamicOdtEntry = xcpOdtEntryDYN,
#endif
    .XcpSeedFn = Xcp_SeedFn,
    .XcpUnlockFn = Xcp_UnlockFn,
    .XcpUserFn = Xcp_UserFn,
};
/* ============================ [ LOCALS    ] ====================================================== */
/* ============================ [ FUNCTIONS ] ====================================================== */
#endif /* USE_XCP */
