/*
* Configuration of module: Os
*
* Created by:   parai
* Copyright:    (C)parai@foxmail.com  
*
* Configured for (MCU):    posix
*
* Module vendor:           askar
* Generator version:       01.00
*
* Generated by easySAR Studio (https://github.com/parai/as)
*/
/* ============================ [ INCLUDES  ] ====================================================== */
#include "kernel_internal.h"
/* ============================ [ MACROS    ] ====================================================== */
#ifndef OS_STK_SIZE_SCALER
#define OS_STK_SIZE_SCALER 1
#endif
/* ============================ [ TYPES     ] ====================================================== */
/* ============================ [ DECLARES  ] ====================================================== */
/* ============================ [ DATAS     ] ====================================================== */
static uint32_t TaskApp_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
static EventVarType TaskApp_EventVar;
static uint32_t TaskCanIf_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
static uint32_t TaskNmInd_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
static EventVarType TaskNmInd_EventVar;
static uint32_t TaskIdle_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
static uint32_t TaskShell_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
static EventVarType TaskShell_EventVar;
static uint32_t SchM_Startup_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
static uint32_t SchM_BswService_Stack[(2048*OS_STK_SIZE_SCALER+sizeof(uint32_t)-1)/sizeof(uint32_t)];
#if (OS_STATUS == EXTENDED)
static boolean TaskApp_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
static boolean TaskCanIf_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
static boolean TaskNmInd_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
static boolean TaskIdle_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
static boolean TaskShell_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
static boolean SchM_Startup_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
static boolean SchM_BswService_CheckAccess(ResourceType ResID)
{
    boolean bAccess = FALSE;

    switch(ResID)
    {
        case RES_SCHEDULER:
            bAccess = TRUE;
        break;
        default:
            break;
    }

    return bAccess;
}
#endif
const TaskConstType TaskConstArray[TASK_NUM] =
{
	{
		/*.pStack =*/ TaskApp_Stack,
		/*.stackSize =*/ sizeof(TaskApp_Stack),
		/*.entry =*/ TaskMainTaskApp,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ &TaskApp_EventVar,
		#endif
		/*.appModeMask =*/ (0),
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ TaskApp_CheckAccess,
		#endif
		/*.name =*/ "TaskApp",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 5,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + 5,
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 1,
		#endif
	},
	{
		/*.pStack =*/ TaskCanIf_Stack,
		/*.stackSize =*/ sizeof(TaskCanIf_Stack),
		/*.entry =*/ TaskMainTaskCanIf,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ NULL,
		#endif
		/*.appModeMask =*/ (0),
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ TaskCanIf_CheckAccess,
		#endif
		/*.name =*/ "TaskCanIf",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 9,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + 9,
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 5,
		#endif
	},
	{
		/*.pStack =*/ TaskNmInd_Stack,
		/*.stackSize =*/ sizeof(TaskNmInd_Stack),
		/*.entry =*/ TaskMainTaskNmInd,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ &TaskNmInd_EventVar,
		#endif
		/*.appModeMask =*/ (0 | (OSDEFAULTAPPMODE)),
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ TaskNmInd_CheckAccess,
		#endif
		/*.name =*/ "TaskNmInd",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 7,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + 7,
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 1,
		#endif
	},
	{
		/*.pStack =*/ TaskIdle_Stack,
		/*.stackSize =*/ sizeof(TaskIdle_Stack),
		/*.entry =*/ TaskMainTaskIdle,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ NULL,
		#endif
		/*.appModeMask =*/ (0 | (OSDEFAULTAPPMODE)),
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ TaskIdle_CheckAccess,
		#endif
		/*.name =*/ "TaskIdle",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 0,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + (-OS_PTHREAD_PRIORITY),
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 1,
		#endif
	},
	{
		/*.pStack =*/ TaskShell_Stack,
		/*.stackSize =*/ sizeof(TaskShell_Stack),
		/*.entry =*/ TaskMainTaskShell,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ &TaskShell_EventVar,
		#endif
		/*.appModeMask =*/ (0 | (OSDEFAULTAPPMODE)),
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ TaskShell_CheckAccess,
		#endif
		/*.name =*/ "TaskShell",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 1,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + 1,
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 1,
		#endif
	},
	{
		/*.pStack =*/ SchM_Startup_Stack,
		/*.stackSize =*/ sizeof(SchM_Startup_Stack),
		/*.entry =*/ TaskMainSchM_Startup,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ NULL,
		#endif
		/*.appModeMask =*/ (0 | (OSDEFAULTAPPMODE)),
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ SchM_Startup_CheckAccess,
		#endif
		/*.name =*/ "SchM_Startup",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 7,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + 7,
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 1,
		#endif
	},
	{
		/*.pStack =*/ SchM_BswService_Stack,
		/*.stackSize =*/ sizeof(SchM_BswService_Stack),
		/*.entry =*/ TaskMainSchM_BswService,
		#ifdef EXTENDED_TASK
		/*.pEventVar =*/ NULL,
		#endif
		/*.appModeMask =*/ 0,
		#if (OS_STATUS == EXTENDED)
		/*.CheckAccess =*/ SchM_BswService_CheckAccess,
		#endif
		/*.name =*/ "SchM_BswService",
		/*.initPriority =*/ OS_PTHREAD_PRIORITY + 8,
		/*.runPriority =*/ OS_PTHREAD_PRIORITY + 8,
		#ifdef MULTIPLY_TASK_ACTIVATION
		/*.maxActivation =*/ 1,
		#endif
	},
};

const ResourceConstType ResourceConstArray[RESOURCE_NUM] =
{
	{
		/*.ceilPrio =*/ PRIORITY_NUM, /* RES_SCHEDULER */
	},
};

CounterVarType CounterVarArray[COUNTER_NUM];
const CounterConstType CounterConstArray[COUNTER_NUM] =
{
	{
		/*.name=*/"OsClock",
		/*.pVar=*/&CounterVarArray[COUNTER_ID_OsClock],
		/*.base=*/{
			/*.maxallowedvalue=*/0xFFFF,
			/*.ticksperbase=*/1,
			/*.mincycle=*/1
		}
	},
};

static void AlarmApp_Action(void)
{
	(void)ActivateTask(TASK_ID_TaskApp);
}
static void Alarm_BswService_Action(void)
{
	(void)ActivateTask(TASK_ID_SchM_BswService);
}
AlarmVarType AlarmVarArray[ALARM_NUM];
const AlarmConstType AlarmConstArray[ALARM_NUM] =
{
	{
		/*.name=*/"AlarmApp",
		/*.pVar=*/&AlarmVarArray[ALARM_ID_AlarmApp],
		/*.pCounter=*/&CounterConstArray[COUNTER_ID_OsClock],
		/*.Action=*/AlarmApp_Action,
		/*.appModeMask=*/0,
		/*.start=*/0,
		/*.period=*/0,
	},
	{
		/*.name=*/"Alarm_BswService",
		/*.pVar=*/&AlarmVarArray[ALARM_ID_Alarm_BswService],
		/*.pCounter=*/&CounterConstArray[COUNTER_ID_OsClock],
		/*.Action=*/Alarm_BswService_Action,
		/*.appModeMask=*/0,
		/*.start=*/0,
		/*.period=*/0,
	},
};

const TaskType TaskApp = TASK_ID_TaskApp;
const TaskType TaskCanIf = TASK_ID_TaskCanIf;
const TaskType TaskNmInd = TASK_ID_TaskNmInd;
const TaskType TaskIdle = TASK_ID_TaskIdle;
const TaskType TaskShell = TASK_ID_TaskShell;
const TaskType SchM_Startup = TASK_ID_SchM_Startup;
const TaskType SchM_BswService = TASK_ID_SchM_BswService;

const EventMaskType Event1 = EVENT_MASK_TaskApp_Event1;
const EventMaskType Event2 = EVENT_MASK_TaskApp_Event2;
const EventMaskType Event3 = EVENT_MASK_TaskApp_Event3;
const EventMaskType Event4 = EVENT_MASK_TaskApp_Event4;
const EventMaskType Event5 = EVENT_MASK_TaskApp_Event5;
const EventMaskType EventNmNormal = EVENT_MASK_TaskNmInd_EventNmNormal;
const EventMaskType EventNmLimphome = EVENT_MASK_TaskNmInd_EventNmLimphome;
const EventMaskType EventNmStatus = EVENT_MASK_TaskNmInd_EventNmStatus;
const EventMaskType EventRingData = EVENT_MASK_TaskNmInd_EventRingData;
const EventMaskType EventShellInput = EVENT_MASK_TaskShell_EventShellInput;


const CounterType OsClock = COUNTER_ID_OsClock;

const AlarmType AlarmApp = ALARM_ID_AlarmApp;
const AlarmType Alarm_BswService = ALARM_ID_Alarm_BswService;
#ifdef USE_SCHED_FIFO
#ifdef USE_PTHREAD
static TaskType ReadyFIFO_pthread_prio0[32];
static TaskType ReadyFIFO_pthread_prio1[32];
static TaskType ReadyFIFO_pthread_prio2[32];
static TaskType ReadyFIFO_pthread_prio3[32];
static TaskType ReadyFIFO_pthread_prio4[32];
static TaskType ReadyFIFO_pthread_prio5[32];
static TaskType ReadyFIFO_pthread_prio6[32];
static TaskType ReadyFIFO_pthread_prio7[32];
static TaskType ReadyFIFO_pthread_prio8[32];
static TaskType ReadyFIFO_pthread_prio9[32];
static TaskType ReadyFIFO_pthread_prio10[32];
static TaskType ReadyFIFO_pthread_prio11[32];
static TaskType ReadyFIFO_pthread_prio12[32];
static TaskType ReadyFIFO_pthread_prio13[32];
static TaskType ReadyFIFO_pthread_prio14[32];
static TaskType ReadyFIFO_pthread_prio15[32];
static TaskType ReadyFIFO_pthread_prio16[32];
static TaskType ReadyFIFO_pthread_prio17[32];
static TaskType ReadyFIFO_pthread_prio18[32];
static TaskType ReadyFIFO_pthread_prio19[32];
static TaskType ReadyFIFO_pthread_prio20[32];
static TaskType ReadyFIFO_pthread_prio21[32];
static TaskType ReadyFIFO_pthread_prio22[32];
static TaskType ReadyFIFO_pthread_prio23[32];
static TaskType ReadyFIFO_pthread_prio24[32];
static TaskType ReadyFIFO_pthread_prio25[32];
static TaskType ReadyFIFO_pthread_prio26[32];
static TaskType ReadyFIFO_pthread_prio27[32];
static TaskType ReadyFIFO_pthread_prio28[32];
static TaskType ReadyFIFO_pthread_prio29[32];
static TaskType ReadyFIFO_pthread_prio30[32];
static TaskType ReadyFIFO_pthread_prio31[32];
#endif
static TaskType ReadyFIFO_prio0[6];
static TaskType ReadyFIFO_prio1[6];
static TaskType ReadyFIFO_prio5[6];
static TaskType ReadyFIFO_prio7[7];
static TaskType ReadyFIFO_prio8[6];
static TaskType ReadyFIFO_prio9[10];

const ReadyFIFOType ReadyFIFO[OS_PTHREAD_PRIORITY+PRIORITY_NUM+1]=
{
#ifdef USE_PTHREAD
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio0
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio1
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio2
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio3
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio4
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio5
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio6
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio7
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio8
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio9
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio10
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio11
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio12
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio13
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio14
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio15
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio16
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio17
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio18
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio19
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio20
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio21
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio22
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio23
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio24
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio25
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio26
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio27
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio28
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio29
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio30
	},
	{
		/*.max=*/32,
		/*.pFIFO=*/ReadyFIFO_pthread_prio31
	},
#endif
	{
		/*.max=*/6,/* TaskIdle(Activation=1), */
		/*.pFIFO=*/ReadyFIFO_prio0
	},
	{
		/*.max=*/6,/* TaskShell(Activation=1), */
		/*.pFIFO=*/ReadyFIFO_prio1
	},
	{
		/*.max=*/0,
		/*.pFIFO=*/NULL
	},
	{
		/*.max=*/0,
		/*.pFIFO=*/NULL
	},
	{
		/*.max=*/0,
		/*.pFIFO=*/NULL
	},
	{
		/*.max=*/6,/* TaskApp(Activation=1), */
		/*.pFIFO=*/ReadyFIFO_prio5
	},
	{
		/*.max=*/0,
		/*.pFIFO=*/NULL
	},
	{
		/*.max=*/7,/* TaskNmInd(Activation=1),SchM_Startup(Activation=1), */
		/*.pFIFO=*/ReadyFIFO_prio7
	},
	{
		/*.max=*/6,/* SchM_BswService(Activation=1), */
		/*.pFIFO=*/ReadyFIFO_prio8
	},
	{
		/*.max=*/10,/* TaskCanIf(Activation=5), */
		/*.pFIFO=*/ReadyFIFO_prio9
	},
};

#endif
/* ============================ [ LOCALS    ] ====================================================== */
/* ============================ [ FUNCTIONS ] ====================================================== */
